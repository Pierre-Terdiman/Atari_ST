DEBUT:	MOVEA.L  A7,A5
	LEA.L 	D_PILE,A7
	MOVE.L 	4(A5),A5
	MOVE.L 	$C(A5),D0
	ADD.L 	$14(A5),D0
	ADD.L 	$1C(A5),D0
	ADD.L 	#$100,D0		
	MOVE.L 	D0,-(SP)		
        MOVE.L 	A5,-(SP)
	MOVE 	#0,-(SP)
	MOVE 	#$4A,-(SP)
	TRAP 	#1
	LEA 	12(SP),SP
	
	CLR.L 	-(SP)
	MOVE 	#$20,-(SP)
	TRAP 	#1
	ADDQ.L 	#6,SP
	MOVE.L 	D0,SAUVE

	MOVE.L	#FIN,$008.W
	MOVE.L	#FIN,$00C.W
	MOVE.L	#FIN,$010.W

	MOVEQ	#4,D0
	JSR	ZIK
	
	MOVE.L	#DATA,DATAPNT
	MOVE.L	#DATA30,DATA30PNT
	CLR.L	PNT_COLOR
	MOVE.L	#8,NB_PART

					
	MOVE.B	$FFFFFA07.W,MFP1
	MOVE.B	$FFFFFA09.W,MFP2
	MOVE.B	$FFFFFA0F.W,MFP3
	MOVE.B	$FFFFFA13.W,MFP4
	MOVE.B	$FFFFFA1B.W,MFP5
	MOVE.B	$FFFFFA21.W,MFP6
	
	CLR.B	$FFFFFA07.W
	CLR.B	$FFFFFA09.W
	
	MOVE	#4,-(SP)
	TRAP 	#14
	ADDQ.L	#2,SP
	MOVE	D0,RES
	
	MOVE	#2,-(SP)
	TRAP 	#14
	ADDQ.L 	#2,SP
	MOVE.L	D0,ANC_ECR
	
	CLR.W 	-(SP)
	MOVE.L	#-1,-(SP)
	MOVE.L	#-1,-(SP)
	MOVE 	#5,-(SP)
	TRAP 	#14
	LEA.L 	12(SP),SP

	JSR	SET_SCR

	MOVEA.L	SCREEN1,A1	* AFFICHE BIG LOGO
	LEA	7*160(A1),A1
	LEA	2300(A1),A1
	LEA	4600(A1),A1
	LEA	27830(A1),A1
	MOVEA.L	#BIG_LOGO+34,A0
	MOVE.L	#5749,D0
AFF	MOVE.L	(A0)+,(A1)+
	DBF	D0,AFF

	MOVEA.L	SCREEN2,A1	* AFFICHE BIG LOGO
	LEA	7*160(A1),A1
	LEA	2300(A1),A1
	LEA	4600(A1),A1
	LEA	27830(A1),A1
	MOVEA.L	#BIG_LOGO+34,A0
	MOVE.L	#5749,D0
AFF2	MOVE.L	(A0)+,(A1)+
	DBF	D0,AFF2
	


	LEA.L	$FFFF8240.W,A0
	MOVEM.L	(A0),D0-D7
	LEA.L	ANC_PAL,A0
	MOVEM.L	D0-D7,(A0)
	

	lea	TEXTE,a0	
	move.l	a0,MEM_LET	
	move.w	#1,PART_AFF	
        
	MOVE.L	$70.W,ANC_VBL
	MOVE.L	#VBL_IR,$70.W
	MOVE.L	$120.W,ANC_TB
	MOVE.L	#TB0_IR,$120.W
	
	DC.W	$A00A
	MOVE.B	#$12,$FFFFFC02.W
	
	CLR.B	$FFFFFA1B.W
	BSET	#0,$FFFFFA07.W
	BSET	#0,$FFFFFA13.W



BOUCLE	JMP	BOUCLE

FIN:	
	MOVE.B	#8,$FFFFFC02.W
	MOVE.B	MFP1,$FFFFFA07.W
	MOVE.B	MFP2,$FFFFFA09.W
	MOVE.B	MFP3,$FFFFFA0F.W
	MOVE.B	MFP4,$FFFFFA13.W
	MOVE.B	MFP5,$FFFFFA1B.W
	MOVE.B	MFP6,$FFFFFA21.W
	
	MOVE.L	ANC_VBL,$70.W
	MOVE.L	ANC_TB,$120.W
	
	LEA.L	ANC_PAL,A0
	MOVEM.L	(A0),D0-D7
	LEA.L	$FFFF8240.W,A0
	MOVEM.L	D0-D7,(A0)
	
	MOVE 	RES,-(SP)	
	MOVE.L	ANC_ECR,-(SP)	
	MOVE.L	ANC_ECR,-(SP)	
	MOVE 	#5,-(SP)	
	TRAP 	#14		
	LEA.L 	12(SP),SP	
	
	MOVE.L	SAUVE,-(SP)	
	MOVE 	#$20,-(SP)	
	TRAP 	#1		
	ADDQ.L 	#6,SP		
	
;	PEA	CHUT_DA	   	
;	MOVE	#$20,-(A7) 	
;	TRAP	#14        	
;	ADDQ.L	#6,A7      	

	CLR.W 	-(SP)		
	TRAP	#1		
	





VBL_IR	
	CLR.B	$FFFFFA1B.W
;	MOVE.B	#1,$FFFFFA21.W
;	MOVE.B	#8,$FFFFFA1B.W


;	MOVE.L	PLUS,D0
;	ADD.L	D0,SCREEN2
;	ADD.L	D0,SCREEN1
;	JSR	SWAP_SCR
	
	MOVEM.L	IMAGE+2,D0-D7
	MOVEM.L	D0-D7,$FFFF8240.W
	
	JSR	ZIK+8



;        bsr	SWAP_SCR
	bsr	AFF_FNT	
	BSR	SCROLLE
	MOVE.L	A5,SAVEA5
	MOVE.L	A6,SAVEA6



;	CMPI.L	#8,NB_PART
;	BNE	SUITV0
;	BSR	TEST_LET
;	CLR.L	NB_PART
;SUITV0	BSR	SCROLL



	
	MOVE.L	DATA30PNT,A6	*5
	CMPI.L	#-1,(A6)	*5
	BNE.S	OK3	*3 AVEC D   SINON 2
	MOVE.L	#DATA30,DATA30PNT	*7
	MOVE.L	DATA30PNT,A6	*5
OK3
	MOVE.L	(A6)+,PNT_COLOR
	MOVE.L	A6,DATA30PNT

	MOVE.L	DATAPNT,A6	*5
	CMPI.L	#-1,(A6)	*5
	BNE.S	OK2		*3 AVEC D   SINON 2
	MOVE.L	#DATA,DATAPNT	*7
	MOVE.L	DATAPNT,A6	*5
OK2
	MOVE.L	(A6)+,PLUS
	MOVE.L	(A6)+,A5	*3

	MOVE.L	PLUS,D0
	ADD.L	D0,SCREEN2
	ADD.L	D0,SCREEN1
;	JSR	SWAP_SCR
full	
	LEA	COLORS,A3
	ADDA.L	PNT_COLOR,A3
	MOVE.L	#$FFFF8209,A4	
	MOVE.L	#$FFFF8260,A1	
	MOVE.L	#$FFFF820A,A0	
	MOVE	#109,D0		* NB DE LIGNES
	MOVE	#79,D2
	MOVEQ	#0,D1		
	MOVEQ	#0,D4
	MOVEQ	#2,D3
	MOVEQ	#$10,D6
	MOVE	#$2700,SR
	MOVE	#$001,$FFFF8240.W

SYNCHRO	MOVE.B	(A4),D7     * SYNCHRO
	BEQ.S	SYNCHRO
	SUB.W	D7,D6		
	LSL.W	D6,D1		
	REPT	97-4-3+3
	NOP	
	ENDR

	JSR	(A5)		*4	T=128
	MOVE.L	(A6)+,A5	*3
	JSR	(A5)
	MOVE.L	(A6)+,A5
	JSR	(A5)
	MOVE.L	(A6)+,A5
	JSR	(A5)
	MOVE.L	(A6)+,A5
	JSR	(A5)
	MOVE.L	(A6)+,A5
	JSR	(A5)
	
	MOVE.L	A6,DATAPNT	*5
	
	REPT	3+4-5
	NOP
	ENDR
	
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)

	MOVE	(a3)+,$FFFF8240.W		
;	MOVE	(a6),$FFFF8240.W
;	MOVE	(a6)+,$ffff8244.W	* MOVE.W=4 NOPS

;	NOP
;	NOP
;	NOP
;	NOP

	MOVE.L	SAVEA5,A5
	MOVE.L	SAVEA6,A6

	NOP
	NOP				
	NOP
	NOP						 
;	NOP
;	NOP
;	NOP
;	NOP
;	NOP
;	NOP
;	NOP
;	NOP
;	NOP
;	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP

	NOP
	NOP
	NOP
	NOP
	NOP

	NOP
	NOP				
	NOP
	NOP						 
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP

	NOP
	NOP				
	NOP
	NOP						 
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP

	NOP
	NOP				
	NOP
	NOP						 
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP







	MOVE.B	D4,(A0)
	MOVE.B	D3,(A0)
	

	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP	
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)
	NOP
	NOP
	NOP
	NOP			 
	NOP
	NOP
	NOP
	NOP
	NOP
	


	NOP
	NOP
	NOP

OK
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)

	MOVE	(a3)+,$FFFF8240.W		
;	MOVE	(a6),$FFFF8240.W
;	MOVE	(a6)+,$ffff8244.W	* MOVE.W=4 NOPS

;	NOP
;	NOP
;	NOP
;	NOP

	REPT	17
	MOVE.L	(A6)+,(A5)+
	ENDR
;	REPT	85
;	NOP
;	ENDR
	
	MOVE.B	D4,(A0)
	MOVE.B	D3,(A0)
	

	MOVE.L	(A6)+,(A5)+
	MOVE.L	(A6)+,(A5)+
;	REPT	10
;	NOP
;	ENDR

	NOP
	NOP
	NOP	
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)
	MOVE.L	(A6)+,(A5)+

	NOP
	NOP
	NOP
	NOP
	


;	NOP
;	NOP
;	NOP
;	ENDR
	DBF	D0,OK


	MOVE.B	D3,(A1)
;	NOP
	MOVE.B	D4,(A1)
;	MOVE	(A3)+,$FFFF8240.W

	MOVE	#$300,$FFFF8246.W
	MOVE	#$100,$FFFF8250.W
	MOVE	#$210,$FFFF8252.W
	MOVE	#$320,$FFFF8254.W
	MOVE	#$420,$FFFF8256.W
	MOVE	#$530,$FFFF8258.W
	MOVE	#$640,$FFFF825A.W
	MOVE	#$750,$FFFF825C.W
	MOVE	#$762,$FFFF825E.W



	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	MOVE	#$700,$FFFF8240.W
	NOP
	NOP
	NOP
	NOP
	
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP


	MOVE.B	D4,(A0)
	MOVE.B	D3,(A0)
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP	
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP

ZOK
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)

	MOVE	(a3)+,$FFFF8240.W		
;	MOVE	(a6),$FFFF8240.W
;	MOVE	(a6)+,$ffff8244.W	* MOVE.W=4 NOPS

;	NOP
;	NOP
;	NOP
;	NOP

	REPT	17
	MOVE.L	(A6)+,(A5)+
	ENDR
;	REPT	85
;	NOP
;	ENDR
	
	MOVE.B	D4,(A0)
	MOVE.B	D3,(A0)
	

	MOVE.L	(A6)+,(A5)+
	MOVE.L	(A6)+,(A5)+
;	REPT	10
;	NOP
;	ENDR

	NOP
	NOP
	NOP	
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)
	MOVE.L	(A6)+,(A5)+

	NOP
	NOP
	NOP
	NOP
	


;	NOP
;	NOP
;	NOP
;	ENDR
	DBF	D2,ZOK
;	NOP



	MOVE.B	D3,(A1)
;	NOP
	MOVE.B	D4,(A1)

;	NOP
;	NOP
;	NOP
;	NOP
	MOVE	(A3)+,$FFFF8240.W
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP

	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP



	MOVE.B	D4,(A0)
	MOVE.B	D3,(A0)
	NOP
	NOP

	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP

	NOP	
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)
	;	ICI=116	NOPS


	CLR.B	$FFFF820A.W 
    REPT 5
     	NOP			
     ENDR
	MOVE.B	#$2,$FFFF820A.W





	MOVE.B	D3,(A1)
;	NOP
	MOVE.B	D4,(A1)

;	NOP
;	NOP
;	NOP
;	NOP
	MOVE	(A3)+,$FFFF8240.W
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP

	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP



	MOVE.B	D4,(A0)
	MOVE.B	D3,(A0)
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP	
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP
	NOP

	REPT	35
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)
	MOVE	(a3)+,$FFFF8240.W		
;	NOP
;	NOP
;	NOP
;	NOP
	MOVE.L	(A6)+,(A5)+
	MOVE.L	(A6)+,(A5)+
	MOVE.L	(A6)+,(A5)+
	MOVE.L	(A6)+,(A5)+
	MOVE.L	(A6)+,(A5)+
	MOVE.L	(A6)+,(A5)+
	MOVE.L	(A6)+,(A5)+
	MOVE.L	(A6)+,(A5)+
	MOVE.L	(A6)+,(A5)+
	MOVE.L	(A6)+,(A5)+
	MOVE.L	(A6)+,(A5)+
	MOVE.L	(A6)+,(A5)+
	MOVE.L	(A6)+,(A5)+
	MOVE.L	(A6)+,(A5)+
	MOVE.L	(A6)+,(A5)+
	MOVE.L	(A6)+,(A5)+
	MOVE.L	(A6)+,(A5)+
	MOVE.B	D4,(A0)
	MOVE.B	D3,(A0)
	MOVE.L	(A6)+,(A5)+
	MOVE.L	(A6)+,(A5)+
	NOP
	NOP
	NOP	
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)
	MOVE.L	(A6)+,(A5)+
	MOVE.L	(A6)+,(A5)+
	NOP
	NOP
	ENDR
	

	JSR	SWAP_SCR
	MOVE	#$2300,SR
	CMPI.B	#$39,$FFFFFC02.W
	BEQ	FIN
	RTE


 


TB0_IR	
	CLR.B	$FFFFFA1B.W
	MOVE	#$001,$FFFF8240.W
;	MOVE.B	#10,$FFFFFA21.W
;	MOVE.B	#8,$FFFFFA1B.W
;	MOVE.L	#TB1_IR,$120
	BCLR	#0,$FFFFFA0F.W
	RTE			

TB1_IR	
	CLR.B	$FFFFFA1B.W
	MOVE	#$002,$FFFF8240.W
;	MOVE.B	#1,$FFFFFA21.W
;	MOVE.B	#8,$FFFFFA1B.W
	MOVE.L	#TB0_IR,$120
	BCLR	#0,$FFFFFA0F.W
	RTE			



NOTHING	
	MOVE	(A3)+,$FFFF8240.W
	REPT	117-4
	NOP
	ENDR
	RTS

H70
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)
	MOVE	(A3)+,$FFFF8240.W
	REPT	89-4
	NOP				
	ENDR
	MOVE.B	D4,(A0)
	MOVE.B	D3,(A0)
	REPT	13
	NOP
	ENDR
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)
	REPT	1
	NOP			 
	ENDR
	RTS	=4 NOPS
H44
;	MOVE.B	D3,(A1)
	NOP
;	MOVE.B	D4,(A1)
	MOVE	(A3)+,$FFFF8240.W
	REPT	89+4-4
	NOP				
	ENDR
	MOVE.B	D4,(A0)
	MOVE.B	D3,(A0)
	REPT	13
	NOP
	ENDR
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)
	REPT	1
	NOP			 
	ENDR
	RTS	=4 NOPS
H24
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)
	MOVE	(A3)+,$FFFF8240.W
	REPT	89-2-4
	NOP				
	ENDR
	MOVE.B	D4,(A0)
	MOVE.B	D3,(A0)
	REPT	13
	NOP
	ENDR
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)
	REPT	1+2
	NOP			 
	ENDR
	RTS	=4 NOPS
H2
;	MOVE.B	D3,(A1)
	NOP
;	MOVE.B	D4,(A1)
	MOVE	(A3)+,$FFFF8240.W
	REPT	89-2+4-4
	NOP				
	ENDR
	MOVE.B	D4,(A0)
	MOVE.B	D3,(A0)
	REPT	13
	NOP
	ENDR
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)
	REPT	1+2
	NOP			 
	ENDR
	RTS	=4 NOPS
H80
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)
	MOVE	(A3)+,$FFFF8240.W
	REPT	35-4
	NOP
	ENDR
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)
	REPT	49
	NOP				
	ENDR
	MOVE.B	D4,(A0)
	MOVE.B	D3,(A0)
	REPT	13		
	NOP
	ENDR
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)
	REPT	1
	NOP			 
	ENDR
	RTS



SET_SCR:	move.l	#BUFFERSCR,d0
	and.l	#$ffffff00,d0		
	move.l	d0,SCREEN1		
	move.l	d0,SCREEN1B
	add.l	#64000,d0		
	move.l	d0,SCREEN2
	move.l	d0,SCREEN2B
;	MOVE.B	SCREEN1+1,$FFFF8201.W
;	MOVE.B	SCREEN1+3,$FFFF8203.W
	move.l	SCREEN1,d0	
	lsr.l	#8,d0		
	move.l	#$ffff8201,a0
	movep	d0,(a0)
	rts				

SWAP_SCR:
	move.l	SCREEN1B,d0	
	move.l	SCREEN2B,SCREEN1B
	move.l	d0,SCREEN2B
	move.l	SCREEN1,d0	
	move.l	SCREEN2,SCREEN1		
	move.l	d0,SCREEN2
	lsr.l	#8,d0		
	move.l	#$ffff8201,a0
	movep	d0,(a0)
	rts



SCROLLE:	
        move.l	SCREEN1B,a5	Ecran de travail
	LEA	1120(A5),A5
	LEA	6900(A5),A5
	move.l	SCREEN1B,a6
	LEA	1128(A6),A6
	LEA	6900(A6),A6
	
	rept	143      ;9*58
	move.l	(a6)+,(a5)+	
	endr
	
	RTS
SCROLL2
* Total … effectuer:   nb lignes * 58
*	= 81*58
	
	rept 	3059-800                   *=(81*38)-19-scroll
	move.l	(a6)+,(a5)+
	endr

	rts

AFF_FNT:	cmp.w	#1,PART_AFF
	BEQ.S	PART1
	cmp.w	#2,PART_AFF
	BEQ	PART2
	cmp.w	#3,PART_AFF
	BEQ	PART3
	cmp.w	#4,PART_AFF
	BEQ	PART4
	
PART1:	move.l	#IMAGE+34,a2	Pointe sur les fontes
	move.l	MEM_LET,a0
	adda.w	(a0),a2
	move.l	SCREEN1B,a1	(8 pixels de large)
	adda.l	#216+160*7,a1
	LEA	6900(A1),A1
INC	set	0
INC2	set	0
	rept	81
	move.b	INC+9(a2),INC2(a1)
	move.b	INC+11(a2),INC2+2(a1)
	move.b	INC+13(a2),INC2+4(a1)
        move.b  INC+15(a2),INC2+6(a1)  * ok je pense
INC	set	INC+160
INC2	set	INC2+230
	endr
	
	addq.l	#2,a0		On passe … une autre lettre
	cmp.w	#$ffff,(a0)
	bne	GO_LET
	lea	TEXTE,a0
GO_LET:	move.l	a0,MEM_LET	On sauvegarde le pointeur
	
	move.l	#IMAGE+34,a2
	adda.w	(a0),a2
INC	set 	0
INC2	set 	0
	rept 	81
	move.b	INC+0(a2),INC2+1(a1)
	move.b	INC+2(a2),INC2+3(a1)
	move.b	INC+4(a2),INC2+5(a1)  * ok
        move.b  INC+6(a2),INC2+7(a1)
        
INC	set	INC+160
INC2	set	INC2+230
	endr
;	move.w	#1,PART_AFF
	bra	FIN_SCRO	
	
PART2:	move.l	#IMAGE+34,a2
	move.l	MEM_LET,a0
	adda.w	(a0),a2
	move.l	SCREEN1B,a1
	adda.l	#216+160*7,a1
	LEA	6900(A1),A1
INC	set	0
INC2	set	0
	rept	81
	move.l	INC(a2),INC2(a1)
	move.w	INC+4(a2),INC2+4(a1)
        move.w  INC+6(a2),INC2+6(a1)      * ok
INC	set	INC+160
INC2	set	INC2+230
	endr
;	move.w	#2,PART_AFF
	bra	FIN_SCRO

PART3:	move.l	#IMAGE+34,a2
	move.l	MEM_LET,a0
	adda.w	(a0),a2
	move.l	SCREEN1B,a1
	adda.l	#216+160*7,a1
	LEA	6900(A1),A1
INC	set	0
INC2	set	0
	rept	81
	move.b	INC+1(a2),INC2(a1)	
	move.b	INC+3(a2),INC2+2(a1)	
	move.b	INC+5(a2),INC2+4(a1)
        move.b  INC+7(a2),INC2+6(a1)
	move.b	INC+8(a2),INC2+1(a1)	
	move.b	INC+10(a2),INC2+3(a1)	
	move.b	INC+12(a2),INC2+5(a1)	
        move.b  INC+14(a2),INC2+7(a1)      * ok ?
INC	set	INC+160
INC2	set	INC2+230
	endr
;	move.w	#3,PART_AFF
	bra	FIN_SCRO

PART4:	move.l	#IMAGE+34,a2
	move.l	MEM_LET,a0
	adda.w	(a0),a2
	move.l	SCREEN1B,a1
	adda.l	#216+160*7,a1
	LEA	6900(A1),A1
INC	set	0
INC2	set	0
	rept	81
	move.l	INC+8(a2),INC2(a1)
	move.w	INC+12(a2),INC2+4(a1)
        move.w  INC+14(a2),INC2+6(a1)  * ok?
INC	set	INC+160
INC2	set	INC2+230
	endr
;	move.w	#0,PART_AFF
	bra	FIN_SCRO

FIN_SCRO	
	ADDQ.W	#1,PART_AFF
	CMPI.W	#5,PART_AFF
	BNE.S	RET
	MOVE	#1,PART_AFF
RET	rts	


	 
	section   data
ZIK	INCBIN	ESSAI2B.MUS
BIG_LOGO	INCBIN	LOGO_ZAP.KID
	
TEXTE:	INCBIN	HOLO.txt
IMAGE:	INCBIN	FNT_80.PI1
	DS.B	160*80  * pour le caractere " "


DATA	

	DC.L	0,NOTHING,NOTHING,NOTHING,NOTHING,NOTHING,NOTHING
	DC.L	256,H70,H70,H70,H24,H2,H2
	DC.L	256,H70,H70,H44,H24,H2,H2	
	DC.L	256,H70,H44,H44,H24,H2,H2
	DC.L	256,H44,H44,H44,H24,H2,H2
	DC.L	2*256,H44,H44,H44,H2,H2,H2
	DC.L	256,H70,H44,H44,H2,H2,H80
	DC.L	256,H24,H24,NOTHING,NOTHING,NOTHING,NOTHING
	DC.L	256,H24,H2,NOTHING,NOTHING,NOTHING,NOTHING
	DC.L	0,H2,H2,NOTHING,NOTHING,NOTHING,NOTHING
	DC.L	256,H70,H70,H44,H44,H2,NOTHING
	DC.L	512,H70,H44,H44,H44,H2,NOTHING
	DC.L	0,H80,H2,NOTHING,NOTHING,NOTHING,NOTHING
	DC.L	256,H70,H70,H44,H44,H80,NOTHING
	DC.L	256,H70,H44,H44,H44,H80,NOTHING
	DC.L	256,H24,H24,H24,H24,NOTHING,NOTHING
	DC.L	256,H70,NOTHING,NOTHING,NOTHING,NOTHING,NOTHING
	DC.L	256,H44,NOTHING,NOTHING,NOTHING,NOTHING,NOTHING
	DC.L	256,H24,H2,H2,H2,NOTHING,NOTHING
	DC.L	256,H2,H2,H2,H2,NOTHING,NOTHING
	DC.L	256,H24,H24,H80,H2,NOTHING,NOTHING
	DC.L	256,H80,H24,H2,H2,NOTHING,NOTHING
	DC.L	0,H80,H2,H2,H2,NOTHING,NOTHING
	DC.L	0,H80,H2,H2,H2,NOTHING,NOTHING
	DC.L	256,H24,H24,H24,H24,H24,H24
	DC.L	0,H70,H24,H24,NOTHING,NOTHING,NOTHING
	DC.L	256,H70,H24,H24,NOTHING,NOTHING,NOTHING
	DC.L	256,H44,H24,H24,NOTHING,NOTHING,NOTHING
	DC.L	0,H70,H2,H2,NOTHING,NOTHING,NOTHING
	DC.L	0,H70,H2,H2,NOTHING,NOTHING,NOTHING
	DC.L	0,H70,H2,H2,NOTHING,NOTHING,NOTHING
	DC.L	0,H70,H70,H70,H44,H44,H2
	DC.L	768,H70,H70,H70,H44,H44,H2
	DC.L	0,H80,H80,H80,H2,NOTHING,NOTHING
	DC.L	0,H80,H80,H80,H2,NOTHING,NOTHING
	DC.L	0,H80,H80,H80,H2,NOTHING,NOTHING
	DC.L	0,H80,H80,H80,H2,NOTHING,NOTHING
	DC.L	0,H80,H80,H80,H2,NOTHING,NOTHING
	DC.L	0,H80,H80,H80,H2,NOTHING,NOTHING
	DC.L	0,H80,H80,H80,H2,NOTHING,NOTHING
	DC.L	0,H80,H80,H80,H2,NOTHING,NOTHING
	DC.L	0,H80,H80,H80,H2,NOTHING,NOTHING
	DC.L	0,H80,H80,H80,H2,NOTHING,NOTHING
	DC.L	0,H80,H80,H80,H2,NOTHING,NOTHING
	DC.L	0,H80,H80,H80,H2,NOTHING,NOTHING
	DC.L	-768,H80,H80,H80,H2,NOTHING,NOTHING
	DC.L	0,H70,H70,H70,H44,H44,H2
	DC.L	0,H70,H70,H70,H44,H44,H2
	DC.L	0,H70,H70,H70,H44,H44,H2
	DC.L	0,H70,H2,H2,NOTHING,NOTHING,NOTHING
	DC.L	-256,H70,H2,H2,NOTHING,NOTHING,NOTHING
	DC.L	0,H44,H24,H24,NOTHING,NOTHING,NOTHING
	DC.L	-256,H44,H24,H24,NOTHING,NOTHING,NOTHING
	DC.L	-256,H70,H24,H24,NOTHING,NOTHING,NOTHING
	DC.L	0,H24,H24,H24,H24,H24,H24
	DC.L	0,H24,H24,H24,H24,H24,H24
	DC.L	-256,H80,H2,H2,H2,NOTHING,NOTHING
	DC.L	-256,H80,H24,H2,H2,NOTHING,NOTHING
	DC.L	0,H24,H24,H80,H2,NOTHING,NOTHING
	DC.L	-256,H24,H24,H80,H2,NOTHING,NOTHING
	DC.L	-256,H2,H2,H2,H2,NOTHING,NOTHING
	DC.L	-256,H24,H2,H2,H2,NOTHING,NOTHING
	DC.L	-256,H44,NOTHING,NOTHING,NOTHING,NOTHING,NOTHING
	DC.L	-256,H70,NOTHING,NOTHING,NOTHING,NOTHING,NOTHING
	DC.L	-256,H24,H24,H24,H24,NOTHING,NOTHING
	DC.L	-256,H70,H44,H44,H44,H80,NOTHING
	DC.L	0,H70,H70,H44,H44,H80,NOTHING
	DC.L	-512,H80,H2,NOTHING,NOTHING,NOTHING,NOTHING
	DC.L	-256,H70,H44,H44,H44,H2,NOTHING
	DC.L	0,H70,H70,H44,H44,H2,NOTHING
	DC.L	-512,H2,H2,NOTHING,NOTHING,NOTHING,NOTHING
	DC.L	-256,H24,H24,NOTHING,NOTHING,NOTHING,NOTHING
	DC.L	-256,H70,H44,H44,H2,H2,H80
	DC.L	-256,H44,H44,H44,H24,H24,H80
	DC.L	-256,H44,H44,H44,H2,H2,H2
	DC.L	-256,H44,H44,H44,H24,H2,H2
	DC.L	-512,H70,H44,H44,H24,H2,H2
	DC.L	0,H70,H70,H70,H24,H2,H2
	DC.L	0,NOTHING,NOTHING,NOTHING,NOTHING,NOTHING,NOTHING
	DC.L	0,NOTHING,NOTHING,NOTHING,NOTHING,NOTHING,NOTHING

	DC.L	-1,-1
COLORS	
	REPT	11+6+30+10
	DC.W 	$0
	ENDR
	
;	DC.W	$010,$020,$030,$040,$050,$060,$070
;	DC.W	$071,$171,$172,$272,$273,$373,$374,$474,$475,$575,$576,$676,$677,$777
	DC.W	$0,$100,$200,$300,$400,$500,$600,$700
	DC.W	$710,$720,$730,$740,$750,$760,$770
	DC.W	$771,$772,$773,$774,$775,$776,$777

	DC.W	$776,$766,$666,$665,$655,$555,$554
	DC.W	$544,$444,$443,$433,$333,$332,$322
	DC.W	$222,$221,$211,$111,$110,$100,$000

;	DC.W	$001,$101,$201,$301,$401,$501,$601
;	DC.W	$701,$702,$703,$704,$705,$706
;	DC.W	$707,$717,$727,$737,$747,$757


	REPT	100
	DC.W	$0
	ENDR
	DC.W 	$0,$100,$200,$300,$400,$500,$600,$700
	DC.W 	$710,$720,$730,$740,$750,$760,$770
	DC.W	$771,$772,$773,$774,$775,$776,$777
	DC.W	$767,$757,$747,$737,$727,$717,$707
	DC.W	$607,$507,$407,$307,$207,$107,$007
	DC.W	$006,$005,$004,$003,$002,$001
DATA30
 DC.L  0*2
 DC.L  1*2
 DC.L  2*2
 DC.L  3*2
 DC.L  4*2
 DC.L  5*2
 DC.L  7*2
 DC.L  8*2
 DC.L  9*2
 DC.L  10*2
 DC.L  11*2
 DC.L  12*2
 DC.L  13*2
 DC.L  14*2
 DC.L  15*2
 DC.L  16*2
 DC.L  17*2
 DC.L  18*2
 DC.L  19*2
 DC.L  20*2
 DC.L  21*2
 DC.L  22*2
 DC.L  23*2
 DC.L  23*2
 DC.L  24*2
 DC.L  25*2
 DC.L  25*2
 DC.L  26*2
 DC.L  27*2
 DC.L  27*2
 DC.L  27*2
 DC.L  28*2
 DC.L  28*2
 DC.L  29*2
 DC.L  29*2
 DC.L  29*2
 DC.L  29*2
 DC.L  29*2
 DC.L  29*2
 DC.L  29*2
 DC.L  29*2
 DC.L  29*2
 DC.L  29*2
 DC.L  29*2
 DC.L  29*2
 DC.L  29*2
 DC.L  28*2
 DC.L  28*2
 DC.L  28*2
 DC.L  27*2
 DC.L  27*2
 DC.L  26*2
 DC.L  26*2
 DC.L  25*2
 DC.L  24*2
 DC.L  24*2
 DC.L  23*2
 DC.L  22*2
 DC.L  21*2
 DC.L  21*2
 DC.L  20*2
 DC.L  19*2
 DC.L  18*2
 DC.L  17*2
 DC.L  16*2
 DC.L  15*2
 DC.L  14*2
 DC.L  13*2
 DC.L  12*2
 DC.L  11*2
 DC.L  10*2
 DC.L  8*2
 DC.L  7*2
 DC.L  6*2
 DC.L  5*2
 DC.L  4*2
 DC.L  3*2
 DC.L  1*2
 DC.L  0*2
 DC.L  0*2
	DC.L	-1


	
;CHUT_DA	DC.B	7,$FF,6,0,8,0,9,0,$A,0

; 	SECTION BSS
; 	EVEN
PNT_COLOR	DS.L	1
DATA30PNT	DS.L	1
F_PILE	DS.L 	128	
D_PILE	DS.L 	1	
POINT	DS.L	1
NB_PART	DS.L	1
BUF_LET	DS.B	(1*8)*2
SAUVE	DS.L	1	
ANC_VBL DS.L	1	
ANC_TB	DS.L	1	
ANC_ECR	DS.L	1	
RES	DS.W	1
MEM_LET:	ds.l	1
PART_AFF:	ds.l    1
DATAPNT	DS.L	1
PLUS	DS.L	1
ANC_PAL	DS.W	16
SCREEN1	DS.L	1
SCREEN2	DS.L	1
SCREEN1B	DS.L	1
SCREEN2B	DS.L	1
SAVEA5	DS.L	1
SAVEA6	DS.L	1
MFP1	DS.B	1
MFP2	DS.B	1
MFP3	DS.B	1
MFP4	DS.B	1
MFP5	DS.B	1
MFP6	DS.B	1
	DS.B	2560
BUFFERSCR	DS.B	64000*2
	DS.B	2560
			